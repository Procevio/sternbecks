<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROT-avdrag Villkorlig Logik Test - Sternbecks</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-case { 
            border: 1px solid #ddd; 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 5px; 
            background: #f8f9fa;
        }
        .test-case h3 { margin-top: 0; color: #2c5aa0; }
        .scenario { background: #fff; padding: 10px; margin: 10px 0; border-radius: 3px; }
        .expected { color: #28a745; font-weight: bold; margin: 5px 0; }
        .sections { font-family: monospace; background: #f1f3f4; padding: 8px; margin: 5px 0; }
        .visible { color: #28a745; }
        .hidden { color: #dc3545; }
    </style>
</head>
<body>
    <h1>üß™ ROT-avdrag Villkorlig Logik Test</h1>
    <p>Testar att "Delat ROT-avdrag" sektionen endast visas n√§r B√ÖDA ROT-fr√•gorna √§r "Ja".</p>
    
    <div style="background: #e7f3ff; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #2c5aa0;">
        <h4>üéØ Nya Regler:</h4>
        <ul>
            <li><strong>Radiobutton ordning:</strong> "Nej" √∂verst, "Ja" nederst</li>
            <li><strong>"Delat ROT-avdrag"</strong> visas ENDAST n√§r b√•da ROT-fr√•gorna √§r "Ja"</li>
            <li><strong>"Materialkostnad"</strong> visas n√§r kunden √§r "Ja" (√§ven om fastighet √§r "Nej")</li>
        </ul>
    </div>

    <div class="test-case">
        <h3>Scenario 1: B√•da Nej (Standard)</h3>
        <div class="scenario">
            ‚Ä¢ Fastighet ROT-ber√§ttigad: <strong>Nej - Hyresr√§tt/Kommersiell fastighet</strong><br>
            ‚Ä¢ Kund ROT-ber√§ttigad: <strong>Nej - visa fullpris utan avdrag</strong>
        </div>
        <div class="expected">F√∂rv√§ntat resultat:</div>
        <div class="sections">
            ‚Ä¢ Materialkostnad sektion: <span class="hidden">DOLD ‚ùå</span><br>
            ‚Ä¢ Delat ROT-avdrag sektion: <span class="hidden">DOLD ‚ùå</span><br>
            ‚Ä¢ ROT-avdrag i prisber√§kning: <span class="hidden">DOLT ‚ùå</span>
        </div>
    </div>

    <div class="test-case">
        <h3>Scenario 2: Fastighet Nej, Kund Ja</h3>
        <div class="scenario">
            ‚Ä¢ Fastighet ROT-ber√§ttigad: <strong>Nej - Hyresr√§tt/Kommersiell fastighet</strong><br>
            ‚Ä¢ Kund ROT-ber√§ttigad: <strong>Ja - inkludera ROT-avdrag i anbudet</strong>
        </div>
        <div class="expected">F√∂rv√§ntat resultat:</div>
        <div class="sections">
            ‚Ä¢ Materialkostnad sektion: <span class="visible">SYNLIG ‚úÖ</span><br>
            ‚Ä¢ Delat ROT-avdrag sektion: <span class="hidden">DOLD ‚ùå</span> (fastighet ej ber√§ttigad)<br>
            ‚Ä¢ ROT-avdrag i prisber√§kning: <span class="visible">SYNLIGT ‚úÖ</span>
        </div>
    </div>

    <div class="test-case">
        <h3>Scenario 3: Fastighet Ja, Kund Nej</h3>
        <div class="scenario">
            ‚Ä¢ Fastighet ROT-ber√§ttigad: <strong>Ja - Villa/Radhus</strong><br>
            ‚Ä¢ Kund ROT-ber√§ttigad: <strong>Nej - visa fullpris utan avdrag</strong>
        </div>
        <div class="expected">F√∂rv√§ntat resultat:</div>
        <div class="sections">
            ‚Ä¢ Materialkostnad sektion: <span class="hidden">DOLD ‚ùå</span><br>
            ‚Ä¢ Delat ROT-avdrag sektion: <span class="hidden">DOLD ‚ùå</span> (kund ej ber√§ttigad)<br>
            ‚Ä¢ ROT-avdrag i prisber√§kning: <span class="hidden">DOLT ‚ùå</span>
        </div>
    </div>

    <div class="test-case">
        <h3>Scenario 4: B√•da Ja ‚≠ê</h3>
        <div class="scenario">
            ‚Ä¢ Fastighet ROT-ber√§ttigad: <strong>Ja - Villa/Radhus</strong><br>
            ‚Ä¢ Kund ROT-ber√§ttigad: <strong>Ja - inkludera ROT-avdrag i anbudet</strong>
        </div>
        <div class="expected">F√∂rv√§ntat resultat:</div>
        <div class="sections">
            ‚Ä¢ Materialkostnad sektion: <span class="visible">SYNLIG ‚úÖ</span><br>
            ‚Ä¢ Delat ROT-avdrag sektion: <span class="visible">SYNLIG ‚úÖ</span> (b√•da ber√§ttigade!)<br>
            ‚Ä¢ ROT-avdrag i prisber√§kning: <span class="visible">SYNLIGT ‚úÖ</span><br>
            ‚Ä¢ Prelimin√§r text: <span class="visible">SYNLIG ‚úÖ</span>
        </div>
    </div>

    <div style="margin-top: 30px; padding: 20px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px;">
        <h2>üìã Test Checklista</h2>
        <p>F√∂r att testa manuellt, g√∂r f√∂ljande:</p>
        <ol>
            <li>Logga in i appen</li>
            <li>Kontrollera att b√•da ROT-fr√•gorna √§r f√∂rinst√§llda p√• "Nej"</li>
            <li>Kontrollera att "Nej" √§r √∂verst och "Ja" nederst p√• b√•da ROT-fr√•gor</li>
            <li>Testa varje scenario ovan och verifiera att r√§tt sektioner visas/d√∂ljs</li>
            <li>Kontrollera att "Delat ROT-avdrag" endast visas i Scenario 4</li>
            <li>Verifiera att ROT-ber√§kningar fungerar korrekt i alla scenarion</li>
        </ol>
    </div>

    <div style="margin-top: 20px; padding: 15px; background: #d4edda; border: 1px solid #c3e6cb; border-radius: 5px;">
        <h3>üéØ Logik Sammanfattning</h3>
        <div style="font-family: monospace; background: #f8f9fa; padding: 10px; margin: 10px 0;">
            if (fastighet === "Ja" && kund === "Ja") {<br>
            &nbsp;&nbsp;// Visa: Materialkostnad + Delat ROT + ROT i prisber√§kning<br>
            } else if (kund === "Ja" && fastighet === "Nej") {<br>
            &nbsp;&nbsp;// Visa: Endast Materialkostnad + ROT i prisber√§kning<br>
            } else {<br>
            &nbsp;&nbsp;// D√∂lj: Allt ROT-relaterat<br>
            }
        </div>
    </div>
</body>
</html>